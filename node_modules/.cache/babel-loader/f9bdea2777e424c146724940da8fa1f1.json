{"ast":null,"code":"var _jsxFileName = \"/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js\";\nimport React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\nlet newState = [];\nlet finalKeyArray = [];\nlet childKey;\nlet secondxyz;\nlet word;\nlet useridword; // var base64Img = require('base64-img');\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = e => {\n      // alert(\"We r On Delete\");\n      let myemail = childKey[useridword].key;\n      console.log(\"MY FINAL KEYYY :: \", myemail);\n      var ref = firebase.database().ref().child('/' + myemail);\n      ref.once(\"value\").then(function (snapshot) {\n        snapshot.ref.remove();\n        alert(\"user deleted..!\");\n      }).catch(function (error) {\n        alert(\"Data could not be deleted.\" + error);\n      });\n    };\n\n    this.handleAdduser = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      secondxyz: [],\n      newState: [],\n      redirect: false\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  renderTableData() {\n    return this.state.secondxyz.map((word, index) => {\n      const email = word.email,\n            mobileno = word.mobileno,\n            name = word.name,\n            password = word.password;\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, email), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, mobileno), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, password), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.handleDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Delete\")));\n    });\n  }\n\n  renderTableHeader() {\n    let header = Object.keys(this.state.secondxyz[0]);\n    return header.map((key, index) => {\n      return React.createElement(\"th\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, key.toUpperCase());\n    });\n  }\n\n  componentDidMount() {\n    const xyz = firebase.database().ref('/');\n    xyz.once('value', function (snapshot) {\n      snapshot.forEach(function (childSnapshot) {\n        childKey = childSnapshot.key;\n        console.log(\"CHILD KEY :: \", childKey);\n\n        for (useridword in childKey) {\n          finalKeyArray.push({\n            key: childKey[useridword].key\n          });\n        }\n\n        this.setState({\n          childKey: finalKeyArray\n        });\n      });\n    });\n    xyz.on('value', snapshot => {\n      secondxyz = snapshot.val();\n      console.log(\"secondxyz :: \", secondxyz);\n\n      for (word in secondxyz) {\n        newState.push({\n          email: secondxyz[word].email,\n          mobileno: secondxyz[word].mobileno,\n          name: secondxyz[word].name,\n          password: secondxyz[word].password\n        });\n      }\n\n      this.setState({\n        secondxyz: newState\n      });\n    });\n  }\n\n  render() {\n    const redirect = this.state.redirect;\n\n    if (redirect) {\n      // return <Lntframe />;\n      return React.createElement(AddUserForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"students\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"EMAIL\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Mobile NO\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"PASSWORD\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"EDIT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"DELETE\")), this.renderTableData())));\n  }\n\n}\n\nexport default UserList;","map":{"version":3,"sources":["/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js"],"names":["React","Component","firebase","AddUserForm","newState","finalKeyArray","childKey","secondxyz","word","useridword","UserList","constructor","props","handleDelete","e","myemail","key","console","log","ref","database","child","once","then","snapshot","remove","alert","catch","error","handleAdduser","setState","redirect","state","bind","renderTableData","map","index","email","mobileno","name","password","renderTableHeader","header","Object","keys","toUpperCase","componentDidMount","xyz","forEach","childSnapshot","push","on","val","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\n\nlet newState = [];\nlet finalKeyArray = [];\nlet childKey ;\nlet secondxyz;\nlet word;\nlet useridword;\n// var base64Img = require('base64-img');\n\nclass UserList extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            secondxyz : [] ,\n            newState: [],\n            redirect: false,\n        }\n\n        this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    handleDelete = (e) => {\n        // alert(\"We r On Delete\");\n       \n        let myemail = childKey[useridword].key;\n        console.log(\"MY FINAL KEYYY :: \", myemail);\n\n    \n        var ref = firebase.database().ref().child('/' + myemail)\n        ref.once(\"value\")\n        .then(function(snapshot) {\n        snapshot.ref.remove();\n        alert(\"user deleted..!\");\n        }).catch(function(error) {alert(\"Data could not be deleted.\" + error);});\n    }\n\n    renderTableData() {\n\n        return this.state.secondxyz.map((word,index) => {\n            const { email, mobileno, name, password} = word \n            return (\n                <tr >\n                <td>{email}</td>\n                <td>{mobileno}</td>\n                <td>{name}</td>\n                <td>{password}</td>\n                <td><button>Edit</button></td>\n                <td><button onClick={this.handleDelete}>Delete</button></td>\n                </tr>\n            )\n        });\n     }\n\n    renderTableHeader() {\n        let header = Object.keys(this.state.secondxyz[0])\n        return header.map((key, index) => {\n           return <th key={index}>{key.toUpperCase()}</th>\n        })\n    }\n\n    componentDidMount () {\n       \n        const xyz = firebase.database().ref('/'); \n        xyz.once('value', function(snapshot) {\n            snapshot.forEach(function(childSnapshot) {\n            childKey = childSnapshot.key;\n            console.log(\"CHILD KEY :: \" ,childKey);\n\n            for (useridword in childKey){\n                \n                finalKeyArray.push({\n                  key : childKey[useridword].key\n                });\n\n            }\n            this.setState({\n                childKey: finalKeyArray\n            }); \n             \n            });\n        });\n        xyz.on('value',(snapshot)  => {\n            secondxyz = snapshot.val();\n            console.log(\"secondxyz :: \", secondxyz);\n            \n            for (word in secondxyz){\n                \n                newState.push({\n                    email : secondxyz[word].email,\n                    mobileno : secondxyz[word].mobileno,\n                    name : secondxyz[word].name,\n                    password : secondxyz[word].password\n                });\n\n            }\n            this.setState({\n                secondxyz: newState\n            });  \n        })\n\n\n\n\n        \n\n    }\n\n    handleAdduser = () => {\n\n        this.setState({\n            redirect: true\n        })\n\n    }\n\n    render () {\n\n    const { redirect } = this.state;\n    if (redirect) {\n    \n        // return <Lntframe />;\n        return <AddUserForm />;\n    \n    }\n      \n    return (\n        \n    <div>\n        {/* <div>\n        <button className=\"button\" onClick={this.handleAdduser}>Add User</button>\n        </div> */}\n        <table id='students'>\n            <tbody>\n                <tr>\n                    <th>EMAIL</th>\n                    <th>Mobile NO</th>\n                    <th>NAME</th>\n                    <th>PASSWORD</th>\n                    <th>EDIT</th>\n                    <th>DELETE</th>\n                    {/* <th>DATE</th> */}\n                </tr>\n                \n                {this.renderTableData()}\n            </tbody>\n        </table>\n        </div>\n    \n    );\n    }\n    }\n    \nexport default UserList;"]},"metadata":{},"sourceType":"module"}