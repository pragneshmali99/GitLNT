{"ast":null,"code":"var _jsxFileName = \"/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js\";\nimport React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\nlet newState = [];\nlet childKey;\nlet secondxyz;\nlet word;\nlet useridword;\nvar demoarray = []; // var base64Img = require('base64-img');\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = (e, user) => {\n      // alert(\"We r On Delete\");\n      console.log(\"mydemoarray :: \", demoarray);\n      let mykey = demoarray[0].mykeyy;\n      console.log(\"MY FINAL KEYYY :: \", mykey);\n    };\n\n    this.handleAdduser = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      redirect: false,\n      secondxyz: [],\n      newState: [],\n      demoarray: [],\n      userList: []\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadUserList(); // const xyz = firebase.database().ref('/'); \n    // xyz.once('value', function(snapshot) {\n    //     snapshot.forEach(function(childSnapshot) {\n    //     childKey = childSnapshot.key;\n    //     console.log(\"CHILD KEY :: \" ,childKey);\n    //     demoarray.push ({\n    //         \"mykeyy\":childKey\n    //     });\n    //     });\n    //     console.log(\"demoarray :: \" , demoarray);\n    // });\n    // xyz.on('value',(snapshot)  => {\n    //     secondxyz = snapshot.val();\n    //     console.log(\"secondxyz :: \", secondxyz);\n    //     for (word in secondxyz){\n    //         newState.push({\n    //             email : secondxyz[word].email,\n    //             mobileno : secondxyz[word].mobileno,\n    //             name : secondxyz[word].name,\n    //             password : secondxyz[word].password\n    //         });\n    //     }\n    //     this.setState({\n    //         secondxyz: newState\n    //     });  \n    // })\n  }\n\n  async loadUserList() {\n    let tableName = firebase.database().ref('/');\n    tableName.on('value', async _snapshot => {\n      if (_snapshot.val()) {\n        let userList = _snapshot.val();\n\n        let UserArray = [];\n\n        for (let key in userList) {\n          userList[key].userkey = key;\n          UserArray.push(userList[key]);\n        }\n\n        await this.setState({\n          userList: UserArray\n        });\n      }\n    });\n  }\n\n  renderTableData() {\n    // return this.state.secondxyz.map((word,index) => {\n    return this.state.userList.map((word, index) => {\n      const email = word.email,\n            mobileno = word.mobileno,\n            name = word.name,\n            password = word.password;\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, email), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, mobileno), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, password), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: e => this.handleDelete(e, word),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Delete\")));\n    });\n  }\n\n  renderTableHeader() {\n    let header = Object.keys(this.state.secondxyz[0]);\n    return header.map((key, index) => {\n      return React.createElement(\"th\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, key.toUpperCase());\n    });\n  }\n\n  render() {\n    const redirect = this.state.redirect;\n\n    if (redirect) {\n      // return <Lntframe />;\n      return React.createElement(AddUserForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"students\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"EMAIL\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Mobile NO\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"PASSWORD\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"EDIT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"DELETE\")), this.renderTableData())));\n  }\n\n}\n\nexport default UserList;","map":{"version":3,"sources":["/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js"],"names":["React","Component","firebase","AddUserForm","newState","childKey","secondxyz","word","useridword","demoarray","UserList","constructor","props","handleDelete","e","user","console","log","mykey","mykeyy","handleAdduser","setState","redirect","state","userList","bind","componentDidMount","loadUserList","tableName","database","ref","on","_snapshot","val","UserArray","key","userkey","push","renderTableData","map","index","email","mobileno","name","password","renderTableHeader","header","Object","keys","toUpperCase","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\n\nlet newState = [];\nlet childKey ;\nlet secondxyz;\nlet word;\nlet useridword;\n\nvar demoarray = [];\n// var base64Img = require('base64-img');\n\nclass UserList extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            redirect: false,\n            secondxyz : [] ,\n            newState: [],\n            demoarray: [],\n            userList:[],\n            \n        }\n\n        this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    componentDidMount () { \n        this.loadUserList();\n        // const xyz = firebase.database().ref('/'); \n        // xyz.once('value', function(snapshot) {\n        //     snapshot.forEach(function(childSnapshot) {\n        //     childKey = childSnapshot.key;\n        //     console.log(\"CHILD KEY :: \" ,childKey);\n\n        //     demoarray.push ({\n        //         \"mykeyy\":childKey\n        //     });\n             \n        //     });\n        //     console.log(\"demoarray :: \" , demoarray);\n        // });\n        // xyz.on('value',(snapshot)  => {\n        //     secondxyz = snapshot.val();\n        //     console.log(\"secondxyz :: \", secondxyz);\n            \n        //     for (word in secondxyz){\n                \n        //         newState.push({\n        //             email : secondxyz[word].email,\n        //             mobileno : secondxyz[word].mobileno,\n        //             name : secondxyz[word].name,\n        //             password : secondxyz[word].password\n        //         });\n\n        //     }\n        //     this.setState({\n        //         secondxyz: newState\n        //     });  \n        // })\n        \n\n    }\n    async loadUserList(){\n        let tableName = firebase.database().ref('/');\n        tableName.on('value', async (_snapshot) => {\n            if(_snapshot.val()){\n                let userList=_snapshot.val();\n                let UserArray=[];\n                for (let key in userList){\n                    userList[key].userkey=key;\n                    UserArray.push(userList[key]);\n                }\n                await this.setState({\n                    userList: UserArray\n                }); \n            }\n        });\n    }\n    \n\n    \n\n    handleDelete = (e,user) => {\n        // alert(\"We r On Delete\");\n        console.log(\"mydemoarray :: \" , demoarray);\n        let mykey = demoarray[0].mykeyy;\n        console.log(\"MY FINAL KEYYY :: \", mykey);\n\n\n    }\n\n    renderTableData() {\n\n        // return this.state.secondxyz.map((word,index) => {\n        return this.state.userList.map((word,index) => {\n            const { email, mobileno, name, password} = word \n            return (\n                <tr >\n                <td>{email}</td>\n                <td>{mobileno}</td>\n                <td>{name}</td>\n                <td>{password}</td>\n                <td><button>Edit</button></td>\n                <td><button onClick={(e)=>this.handleDelete(e,word)}>Delete</button></td>\n                </tr>\n            )\n        });\n     }\n\n    renderTableHeader() {\n        let header = Object.keys(this.state.secondxyz[0])\n        return header.map((key, index) => {\n           return <th key={index}>{key.toUpperCase()}</th>\n        })\n    }\n\n    \n\n    handleAdduser = () => {\n\n        this.setState({\n            redirect: true\n        })\n\n    }\n\n    render () {\n\n    const { redirect } = this.state;\n    if (redirect) {\n    \n        // return <Lntframe />;\n        return <AddUserForm />;\n    \n    }\n      \n    return (\n        \n    <div>\n        {/* <div>\n        <button className=\"button\" onClick={this.handleAdduser}>Add User</button>\n        </div> */}\n        <table id='students'>\n            <tbody>\n                <tr>\n                    <th>EMAIL</th>\n                    <th>Mobile NO</th>\n                    <th>NAME</th>\n                    <th>PASSWORD</th>\n                    <th>EDIT</th>\n                    <th>DELETE</th>\n                    {/* <th>DATE</th> */}\n                </tr>\n                \n                {this.renderTableData()}\n            </tbody>\n        </table>\n        </div>\n    \n    );\n    }\n    }\n    \nexport default UserList;"]},"metadata":{},"sourceType":"module"}