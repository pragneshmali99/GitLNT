{"ast":null,"code":"var _jsxFileName = \"/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js\";\nimport React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\nimport Modal from 'react-modal';\nlet newState = [];\nlet childKey;\nlet secondxyz;\nlet word;\nlet useridword;\nvar demoarray = []; // var base64Img = require('base64-img');\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\nclass UserList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDelete = (e, user) => {\n      // alert(\"We r On Delete\");\n      // console.log(\"mydemoarray :: \" , demoarray);\n      // let mykey = demoarray[0].mykeyy;\n      // console.log(\"MY FINAL KEYYY :: \", mykey);\n      let deleteUser = firebase.database().ref('/' + user.userkey);\n      deleteUser.remove();\n    };\n\n    this.handleEdit = (e, user) => {\n      console.log(\"We r Here On Edit\");\n      this.setState({\n        modalIsOpen: true,\n        currentObj: user\n      });\n    };\n\n    this.handleAdduser = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.state = {\n      redirect: false,\n      secondxyz: [],\n      newState: [],\n      demoarray: [],\n      userList: [],\n      modalIsOpen: false,\n      confirm: false,\n      currentObj: {}\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  componentDidMount() {\n    let tableName = firebase.database().ref('/');\n    tableName.on('value', async _snapshot => {\n      if (_snapshot.val()) {\n        let secondxyz = _snapshot.val();\n\n        let UserArray = [];\n\n        for (let key in secondxyz) {\n          secondxyz[key].userkey = key;\n          UserArray.push(secondxyz[key]); // console.log(\"userListttt :: \", UserArray);\n        }\n\n        await this.setState({\n          secondxyz: UserArray\n        });\n      }\n    }); // this.loadUserList();\n    // const xyz = firebase.database().ref('/'); \n    // xyz.once('value', function(snapshot) {\n    //     snapshot.forEach(function(childSnapshot) {\n    //     childKey = childSnapshot.key;\n    //     console.log(\"CHILD KEY :: \" ,childKey);\n    //     demoarray.push ({\n    //         \"mykeyy\":childKey\n    //     });\n    //     });\n    //     console.log(\"demoarray :: \" , demoarray);\n    // });\n    // xyz.on('value',(snapshot)  => {\n    //     secondxyz = snapshot.val();\n    //     console.log(\"secondxyz :: \", secondxyz);\n    //     for (word in secondxyz){\n    //         newState.push({\n    //             email : secondxyz[word].email,\n    //             mobileno : secondxyz[word].mobileno,\n    //             name : secondxyz[word].name,\n    //             password : secondxyz[word].password\n    //         });\n    //     }\n    //     this.setState({\n    //         secondxyz: newState\n    //     });  \n    // })\n  } // async loadUserList(){\n  //     let tableName = firebase.database().ref('/');\n  //     tableName.on('value', async (_snapshot) => {\n  //         if(_snapshot.val()){\n  //             let userList=_snapshot.val();\n  //             let UserArray=[];\n  //             for (let key in userList){\n  //                 userList[key].userkey=key;\n  //                 UserArray.push(userList[key]);\n  //                 console.log(\"userListttt :: \", UserArray    );\n  //             }\n  //             await this.setState({\n  //                 userList: UserArray\n  //             }); \n  //         }\n  //     });\n  // }\n\n\n  handleUserUpdate() {\n    const _this$state$currentOb = this.state.currentObj,\n          email = _this$state$currentOb.email,\n          mobileno = _this$state$currentOb.mobileno,\n          name = _this$state$currentOb.name,\n          userkey = _this$state$currentOb.userkey;\n    let edit = {\n      name: name,\n      email: email,\n      mobileno: mobileno\n    };\n    let ref = firebase.database().ref('/' + userkey);\n    ref.update(edit);\n    this.setState({\n      modalIsOpen: false,\n      currentObj: {}\n    });\n  }\n\n  closeModal() {\n    this.setState({\n      modalIsOpen: false,\n      currentObj: {}\n    });\n  }\n\n  handleInputChange(field, value) {\n    let currentObj = this.state.currentObj;\n    currentObj[field] = value;\n    this.setState({\n      currentObj: currentObj\n    });\n  }\n\n  renderTableData() {\n    return this.state.secondxyz.map((word, index) => {\n      // return this.state.userList.map((word,index) => {\n      const email = word.email,\n            mobileno = word.mobileno,\n            name = word.name,\n            password = word.password;\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, email), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, mobileno), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, password), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: e => this.handleEdit(e, word),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: e => this.handleDelete(e, word),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Delete\")));\n    });\n  } // renderTableHeader() {\n  //     let header = Object.keys(this.state.secondxyz[0])\n  //     return header.map((key, index) => {\n  //        return <th key={index}>{key.toUpperCase()}</th>\n  //     })\n  // }\n\n\n  openModal() {\n    this.setState({\n      modalIsOpen: true\n    });\n  }\n\n  confirmModel() {}\n\n  renderEditModel() {\n    const currentObj = this.state.currentObj;\n    return React.createElement(Modal, {\n      isOpen: this.state.modalIsOpen,\n      onRequestClose: () => this.closeModal(),\n      style: customStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Update User\"), React.createElement(\"form\", {\n      className: \"projects fbca fbca--dircol fbca--flst\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inputrow fbca\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"inputrow__description\",\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      className: \"inputrow__field\",\n      name: \"name\",\n      value: currentObj.name,\n      onChange: e => this.handleInputChange('name', e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputrow fbca\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"inputrow__description\",\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      id: \"email\",\n      type: \"text\",\n      className: \"inputrow__field\",\n      name: \"email\",\n      value: currentObj.email,\n      onChange: e => this.handleInputChange('email', e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputrow fbca\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"inputrow__description\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      id: \"password\" // value={password}\n      // onChange={this.handleInputChange} \n      // type=\"password\" \n      ,\n      className: \"inputrow__field\",\n      name: \"password\",\n      value: currentObj.password,\n      onChange: e => this.handleInputChange('password', e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"inputrow fbca\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"inputrow__description\",\n      htmlFor: \"mobileno\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Mobile No\"), React.createElement(\"input\", {\n      id: \"mobileno\",\n      type: \"number\",\n      className: \"inputrow__field\",\n      name: \"mobileno\",\n      value: currentObj.mobileno,\n      onChange: e => this.handleInputChange('mobileno', e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"btn-group-submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      onClick: e => this.handleUserUpdate(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \" Save \"), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: e => this.closeModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \" Cancel \")))));\n  }\n\n  render() {\n    const _this$state = this.state,\n          redirect = _this$state.redirect,\n          modalIsOpen = _this$state.modalIsOpen;\n\n    if (redirect) {\n      // return <Lntframe />;\n      return React.createElement(AddUserForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, modalIsOpen ? this.renderEditModel() : null, React.createElement(\"table\", {\n      id: \"students\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"EMAIL\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Mobile NO\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"NAME\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"PASSWORD\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"EDIT\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"DELETE\")), this.renderTableData())));\n  }\n\n}\n\nexport default UserList;","map":{"version":3,"sources":["/home/pragnesh/Smis/DemoExample/LNT/my-app/src/UserList.js"],"names":["React","Component","firebase","AddUserForm","Modal","newState","childKey","secondxyz","word","useridword","demoarray","customStyles","content","top","left","right","bottom","marginRight","transform","UserList","constructor","props","handleDelete","e","user","deleteUser","database","ref","userkey","remove","handleEdit","console","log","setState","modalIsOpen","currentObj","handleAdduser","redirect","state","userList","confirm","bind","componentDidMount","tableName","on","_snapshot","val","UserArray","key","push","handleUserUpdate","email","mobileno","name","edit","update","closeModal","handleInputChange","field","value","renderTableData","map","index","password","openModal","confirmModel","renderEditModel","target","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,gBAAP;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,IAAIC,QAAQ,GAAG,EAAf;AACA,IAAIC,QAAJ;AACA,IAAIC,SAAJ;AACA,IAAIC,IAAJ;AACA,IAAIC,UAAJ;AAEA,IAAIC,SAAS,GAAG,EAAhB,C,CACA;;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAG;AACRC,IAAAA,GAAG,EAAqB,KADhB;AAERC,IAAAA,IAAI,EAAoB,KAFhB;AAGRC,IAAAA,KAAK,EAAmB,MAHhB;AAIRC,IAAAA,MAAM,EAAkB,MAJhB;AAKRC,IAAAA,WAAW,EAAa,MALhB;AAMRC,IAAAA,SAAS,EAAe;AANhB;AADO,CAArB;;AAWA,MAAMC,QAAN,SAAuBnB,KAAK,CAACC,SAA7B,CAAuC;AAEnCmB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA6FnBC,YA7FmB,GA6FH,CAACC,CAAD,EAAGC,IAAH,KAAY;AACxB;AACA;AACA;AACA;AAEA,UAAIC,UAAU,GAAGvB,QAAQ,CAACwB,QAAT,GAAoBC,GAApB,CAAwB,MAAKH,IAAI,CAACI,OAAlC,CAAjB;AACAH,MAAAA,UAAU,CAACI,MAAX;AACH,KArGkB;;AAAA,SAuGnBC,UAvGmB,GAuGL,CAACP,CAAD,EAAGC,IAAH,KAAY;AAEtBO,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,WAAKC,QAAL,CAAc;AACVC,QAAAA,WAAW,EAAE,IADH;AAEVC,QAAAA,UAAU,EAACX;AAFD,OAAd;AAKH,KA/GkB;;AAAA,SA6KnBY,aA7KmB,GA6KH,MAAM;AAElB,WAAKH,QAAL,CAAc;AACVI,QAAAA,QAAQ,EAAE;AADA,OAAd;AAIH,KAnLkB;;AAEf,SAAKC,KAAL,GAAa;AACTD,MAAAA,QAAQ,EAAE,KADD;AAET9B,MAAAA,SAAS,EAAG,EAFH;AAGTF,MAAAA,QAAQ,EAAE,EAHD;AAITK,MAAAA,SAAS,EAAE,EAJF;AAKT6B,MAAAA,QAAQ,EAAC,EALA;AAMTL,MAAAA,WAAW,EAAE,KANJ;AAOTM,MAAAA,OAAO,EAAC,KAPC;AAQTL,MAAAA,UAAU,EAAC;AARF,KAAb;AAYA,SAAKb,YAAL,GAAoB,KAAKA,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKX,UAAL,GAAkB,KAAKA,UAAL,CAAgBW,IAAhB,CAAqB,IAArB,CAAlB;AACH;;AAEDC,EAAAA,iBAAiB,GAAI;AACjB,QAAIC,SAAS,GAAGzC,QAAQ,CAACwB,QAAT,GAAoBC,GAApB,CAAwB,GAAxB,CAAhB;AACAgB,IAAAA,SAAS,CAACC,EAAV,CAAa,OAAb,EAAsB,MAAOC,SAAP,IAAqB;AACvC,UAAGA,SAAS,CAACC,GAAV,EAAH,EAAmB;AACf,YAAIvC,SAAS,GAACsC,SAAS,CAACC,GAAV,EAAd;;AACA,YAAIC,SAAS,GAAC,EAAd;;AAEA,aAAK,IAAIC,GAAT,IAAgBzC,SAAhB,EAA0B;AACtBA,UAAAA,SAAS,CAACyC,GAAD,CAAT,CAAepB,OAAf,GAAuBoB,GAAvB;AACAD,UAAAA,SAAS,CAACE,IAAV,CAAe1C,SAAS,CAACyC,GAAD,CAAxB,EAFsB,CAGtB;AACH;;AACD,cAAM,KAAKf,QAAL,CAAc;AAChB1B,UAAAA,SAAS,EAAEwC;AADK,SAAd,CAAN;AAGH;AACJ,KAdD,EAFiB,CAkBjB;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGH,GAxEkC,CAyEnC;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AA0BAG,EAAAA,gBAAgB,GAAE;AAAA,kCAE4B,KAAKZ,KAAL,CAAWH,UAFvC;AAAA,UAENgB,KAFM,yBAENA,KAFM;AAAA,UAECC,QAFD,yBAECA,QAFD;AAAA,UAEWC,IAFX,yBAEWA,IAFX;AAAA,UAEiBzB,OAFjB,yBAEiBA,OAFjB;AAGd,QAAI0B,IAAI,GAAE;AACRD,MAAAA,IAAI,EAACA,IADG;AAERF,MAAAA,KAAK,EAACA,KAFE;AAGRC,MAAAA,QAAQ,EAACA;AAHD,KAAV;AAKA,QAAIzB,GAAG,GAAGzB,QAAQ,CAACwB,QAAT,GAAoBC,GAApB,CAAwB,MAAKC,OAA7B,CAAV;AACAD,IAAAA,GAAG,CAAC4B,MAAJ,CAAWD,IAAX;AACA,SAAKrB,QAAL,CAAc;AACVC,MAAAA,WAAW,EAAE,KADH;AAEVC,MAAAA,UAAU,EAAC;AAFD,KAAd;AAIH;;AAEDqB,EAAAA,UAAU,GAAG;AACT,SAAKvB,QAAL,CAAc;AACVC,MAAAA,WAAW,EAAE,KADH;AAEVC,MAAAA,UAAU,EAAC;AAFD,KAAd;AAIH;;AAEDsB,EAAAA,iBAAiB,CAACC,KAAD,EAAOC,KAAP,EAAa;AAC1B,QAAIxB,UAAU,GAAE,KAAKG,KAAL,CAAWH,UAA3B;AACAA,IAAAA,UAAU,CAACuB,KAAD,CAAV,GAAoBC,KAApB;AACA,SAAK1B,QAAL,CAAc;AACVE,MAAAA,UAAU,EAACA;AADD,KAAd;AAGH;;AAGDyB,EAAAA,eAAe,GAAG;AAEd,WAAO,KAAKtB,KAAL,CAAW/B,SAAX,CAAqBsD,GAArB,CAAyB,CAACrD,IAAD,EAAMsD,KAAN,KAAgB;AAChD;AADgD,YAEpCX,KAFoC,GAED3C,IAFC,CAEpC2C,KAFoC;AAAA,YAE7BC,QAF6B,GAED5C,IAFC,CAE7B4C,QAF6B;AAAA,YAEnBC,IAFmB,GAED7C,IAFC,CAEnB6C,IAFmB;AAAA,YAEbU,QAFa,GAEDvD,IAFC,CAEbuD,QAFa;AAG5C,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKZ,KAAL,CADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,QAAL,CAFA,EAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKC,IAAL,CAHA,EAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKU,QAAL,CAJA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAQ,QAAA,OAAO,EAAGxC,CAAD,IAAK,KAAKO,UAAL,CAAgBP,CAAhB,EAAkBf,IAAlB,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CALA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI;AAAQ,QAAA,OAAO,EAAGe,CAAD,IAAK,KAAKD,YAAL,CAAkBC,CAAlB,EAAoBf,IAApB,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,CANA,CADJ;AAUH,KAbM,CAAP;AAcF,GApKiC,CAsKnC;AACA;AACA;AACA;AACA;AACA;;;AAWAwD,EAAAA,SAAS,GAAG;AACR,SAAK/B,QAAL,CAAc;AAACC,MAAAA,WAAW,EAAE;AAAd,KAAd;AACH;;AAED+B,EAAAA,YAAY,GAAE,CAEb;;AAEDC,EAAAA,eAAe,GAAE;AAAA,UACL/B,UADK,GACU,KAAKG,KADf,CACLH,UADK;AAEb,WAAO,oBAAC,KAAD;AACL,MAAA,MAAM,EAAE,KAAKG,KAAL,CAAWJ,WADd;AAEL,MAAA,cAAc,EAAE,MAAI,KAAKsB,UAAL,EAFf;AAGL,MAAA,KAAK,EAAE7C,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANG,EAOH;AAAM,MAAA,SAAS,EAAC,uCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAyC,MAAA,OAAO,EAAC,MAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AACI,MAAA,EAAE,EAAC,MADP;AACc,MAAA,IAAI,EAAC,MADnB;AAC0B,MAAA,SAAS,EAAC,iBADpC;AACsD,MAAA,IAAI,EAAC,MAD3D;AAEI,MAAA,KAAK,EAAEwB,UAAU,CAACkB,IAFtB;AAGI,MAAA,QAAQ,EAAG9B,CAAD,IAAK,KAAKkC,iBAAL,CAAuB,MAAvB,EAA8BlC,CAAC,CAAC4C,MAAF,CAASR,KAAvC,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EASI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAyC,MAAA,OAAO,EAAC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AACI,MAAA,EAAE,EAAC,OADP;AACe,MAAA,IAAI,EAAC,MADpB;AAC2B,MAAA,SAAS,EAAC,iBADrC;AACuD,MAAA,IAAI,EAAC,OAD5D;AAEI,MAAA,KAAK,EAAExB,UAAU,CAACgB,KAFtB;AAGI,MAAA,QAAQ,EAAG5B,CAAD,IAAK,KAAKkC,iBAAL,CAAuB,OAAvB,EAA+BlC,CAAC,CAAC4C,MAAF,CAASR,KAAxC,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CATJ,EAiBI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAyC,MAAA,OAAO,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AACI,MAAA,EAAE,EAAC,UADP,CAEI;AACA;AACA;AAJJ;AAKI,MAAA,SAAS,EAAC,iBALd;AAMI,MAAA,IAAI,EAAC,UANT;AAOI,MAAA,KAAK,EAAExB,UAAU,CAAC4B,QAPtB;AAQI,MAAA,QAAQ,EAAGxC,CAAD,IAAK,KAAKkC,iBAAL,CAAuB,UAAvB,EAAkClC,CAAC,CAAC4C,MAAF,CAASR,KAA3C,CARnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAjBJ,EA+BI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAyC,MAAA,OAAO,EAAC,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI;AACI,MAAA,EAAE,EAAC,UADP;AACkB,MAAA,IAAI,EAAC,QADvB;AACgC,MAAA,SAAS,EAAC,iBAD1C;AAC4D,MAAA,IAAI,EAAC,UADjE;AAEI,MAAA,KAAK,EAAExB,UAAU,CAACiB,QAFtB;AAGI,MAAA,QAAQ,EAAG7B,CAAD,IAAK,KAAKkC,iBAAL,CAAuB,UAAvB,EAAkClC,CAAC,CAAC4C,MAAF,CAASR,KAA3C,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA/BJ,EAuCI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,OAAO,EAAGpC,CAAD,IAAK,KAAK2B,gBAAL,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAA2B,MAAA,OAAO,EAAG3B,CAAD,IAAK,KAAKiC,UAAL,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CADJ,CAvCJ,CAPG,CAAP;AAsDH;;AAEDY,EAAAA,MAAM,GAAI;AAAA,wBAEuB,KAAK9B,KAF5B;AAAA,UAEFD,QAFE,eAEFA,QAFE;AAAA,UAEOH,WAFP,eAEOA,WAFP;;AAGV,QAAIG,QAAJ,EAAc;AAEV;AACA,aAAO,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAEH;;AAED,WAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKMH,WAAW,GAAG,KAAKgC,eAAL,EAAH,GAA2B,IAL5C,EAMI;AAAO,MAAA,EAAE,EAAC,UAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,CADJ,EAWK,KAAKN,eAAL,EAXL,CADJ,CANJ,CAFA;AA0BC;;AA5RkC;;AA+RvC,eAAezC,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport './Userlist.css';\nimport * as firebase from 'firebase';\nimport AddUserForm from './AddUserForm';\nimport Modal from 'react-modal';\n\nlet newState = [];\nlet childKey ;\nlet secondxyz;\nlet word;\nlet useridword;\n\nvar demoarray = [];\n// var base64Img = require('base64-img');\n\nconst customStyles = {\n    content : {\n      top                   : '50%',\n      left                  : '50%',\n      right                 : 'auto',\n      bottom                : 'auto',\n      marginRight           : '-50%',\n      transform             : 'translate(-50%, -50%)'\n    }\n  };\n\nclass UserList extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            redirect: false,\n            secondxyz : [] ,\n            newState: [],\n            demoarray: [],\n            userList:[],\n            modalIsOpen: false,\n            confirm:false,\n            currentObj:{},\n            \n        }\n\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n    }\n\n    componentDidMount () { \n        let tableName = firebase.database().ref('/');\n        tableName.on('value', async (_snapshot) => {\n            if(_snapshot.val()){\n                let secondxyz=_snapshot.val();\n                let UserArray=[];\n                \n                for (let key in secondxyz){\n                    secondxyz[key].userkey=key;\n                    UserArray.push(secondxyz[key]);\n                    // console.log(\"userListttt :: \", UserArray);\n                }\n                await this.setState({\n                    secondxyz: UserArray\n                }); \n            }\n        });\n\n        // this.loadUserList();\n        // const xyz = firebase.database().ref('/'); \n        // xyz.once('value', function(snapshot) {\n        //     snapshot.forEach(function(childSnapshot) {\n        //     childKey = childSnapshot.key;\n        //     console.log(\"CHILD KEY :: \" ,childKey);\n\n        //     demoarray.push ({\n        //         \"mykeyy\":childKey\n        //     });\n             \n        //     });\n        //     console.log(\"demoarray :: \" , demoarray);\n        // });\n        // xyz.on('value',(snapshot)  => {\n        //     secondxyz = snapshot.val();\n        //     console.log(\"secondxyz :: \", secondxyz);\n            \n        //     for (word in secondxyz){\n                \n        //         newState.push({\n        //             email : secondxyz[word].email,\n        //             mobileno : secondxyz[word].mobileno,\n        //             name : secondxyz[word].name,\n        //             password : secondxyz[word].password\n        //         });\n\n        //     }\n        //     this.setState({\n        //         secondxyz: newState\n        //     });  \n        // })\n        \n\n    }\n    // async loadUserList(){\n    //     let tableName = firebase.database().ref('/');\n    //     tableName.on('value', async (_snapshot) => {\n    //         if(_snapshot.val()){\n    //             let userList=_snapshot.val();\n    //             let UserArray=[];\n                \n    //             for (let key in userList){\n    //                 userList[key].userkey=key;\n    //                 UserArray.push(userList[key]);\n    //                 console.log(\"userListttt :: \", UserArray    );\n    //             }\n    //             await this.setState({\n    //                 userList: UserArray\n    //             }); \n    //         }\n    //     });\n    // }\n    \n\n    \n\n    handleDelete =  (e,user) => {\n        // alert(\"We r On Delete\");\n        // console.log(\"mydemoarray :: \" , demoarray);\n        // let mykey = demoarray[0].mykeyy;\n        // console.log(\"MY FINAL KEYYY :: \", mykey);\n\n        let deleteUser = firebase.database().ref('/'+ user.userkey);\n        deleteUser.remove();\n    }\n\n    handleEdit =  (e,user) => {\n       \n        console.log(\"We r Here On Edit\");\n        this.setState({\n            modalIsOpen: true,\n            currentObj:user\n        })\n      \n    }\n\n\n    handleUserUpdate(){\n        \n        const { email, mobileno, name, userkey} = this.state.currentObj ;\n        let edit ={\n          name:name,\n          email:email,\n          mobileno:mobileno\n        }\n        let ref = firebase.database().ref('/'+ userkey);\n        ref.update(edit);\n        this.setState({\n            modalIsOpen: false,\n            currentObj:{}\n        })\n    }\n\n    closeModal() {\n        this.setState({\n            modalIsOpen: false,\n            currentObj:{}\n        })\n    }\n\n    handleInputChange(field,value){\n        let currentObj= this.state.currentObj;\n        currentObj[field] = value;\n        this.setState({\n            currentObj:currentObj\n        })\n    }\n    \n\n    renderTableData() {\n\n        return this.state.secondxyz.map((word,index) => {\n        // return this.state.userList.map((word,index) => {\n            const { email, mobileno, name, password} = word \n            return (\n                <tr >\n                <td>{email}</td>\n                <td>{mobileno}</td>\n                <td>{name}</td>\n                <td>{password}</td>\n                <td><button onClick={(e)=>this.handleEdit(e,word)}>Edit</button></td>\n                <td><button onClick={(e)=>this.handleDelete(e,word)}>Delete</button></td>\n                </tr>\n            )\n        });\n     }\n\n    // renderTableHeader() {\n    //     let header = Object.keys(this.state.secondxyz[0])\n    //     return header.map((key, index) => {\n    //        return <th key={index}>{key.toUpperCase()}</th>\n    //     })\n    // }\n\n    \n\n    handleAdduser = () => {\n\n        this.setState({\n            redirect: true\n        })\n\n    }\n    openModal() {\n        this.setState({modalIsOpen: true});\n    }\n\n    confirmModel(){\n\n    }\n\n    renderEditModel(){\n        const { currentObj } = this.state\n        return(<Modal\n          isOpen={this.state.modalIsOpen}\n          onRequestClose={()=>this.closeModal()}\n          style={customStyles}\n        >\n \n            <h2 >Update User</h2>\n            <form className=\"projects fbca fbca--dircol fbca--flst\">\n                <div className=\"inputrow fbca\">\n                    <label className=\"inputrow__description\" htmlFor=\"name\">Name</label>\n                    <input\n                        id=\"name\" type=\"text\" className=\"inputrow__field\" name=\"name\"\n                        value={currentObj.name}  \n                        onChange={(e)=>this.handleInputChange('name',e.target.value)}\n                    />\n                </div>\n                <div className=\"inputrow fbca\">\n                    <label className=\"inputrow__description\" htmlFor=\"email\">Email</label>\n                    <input\n                        id=\"email\" type=\"text\" className=\"inputrow__field\" name=\"email\" \n                        value={currentObj.email} \n                        onChange={(e)=>this.handleInputChange('email',e.target.value)} \n                    />\n                </div>\n                <div className=\"inputrow fbca\">\n                    <label className=\"inputrow__description\" htmlFor=\"password\">Password</label>\n                    <input\n                        id=\"password\"\n                        // value={password}\n                        // onChange={this.handleInputChange} \n                        // type=\"password\" \n                        className=\"inputrow__field\" \n                        name=\"password\" \n                        value={currentObj.password}\n                        onChange={(e)=>this.handleInputChange('password',e.target.value)}\n                        />\n                </div>\n                \n                <div className=\"inputrow fbca\">\n                    <label className=\"inputrow__description\" htmlFor=\"mobileno\">Mobile No</label>\n                    <input\n                        id=\"mobileno\" type=\"number\" className=\"inputrow__field\" name=\"mobileno\"\n                        value={currentObj.mobileno}\n                        onChange={(e)=>this.handleInputChange('mobileno',e.target.value)}\n                    />\n                </div>\n                <div className=\"btn-group-submit\">\n                    <div >\n                        <button className=\"button\" onClick={(e)=>this.handleUserUpdate()}> Save </button>\n                        <button className=\"button\" onClick={(e)=>this.closeModal()}> Cancel </button>\n                    </div>\n                </div>                \n            </form>\n        </Modal>);\n    }\n\n    render () {\n\n    const { redirect,modalIsOpen } = this.state;\n    if (redirect) {\n    \n        // return <Lntframe />;\n        return <AddUserForm />;\n    \n    }\n      \n    return (\n        \n    <div>\n        {/* <div>\n        <button className=\"button\" onClick={this.handleAdduser}>Add User</button>\n        </div> */}\n\n        { modalIsOpen ? this.renderEditModel() :null}\n        <table id='students'>\n            <tbody>\n                <tr>\n                    <th>EMAIL</th>\n                    <th>Mobile NO</th>\n                    <th>NAME</th>\n                    <th>PASSWORD</th>\n                    <th>EDIT</th>\n                    <th>DELETE</th>\n                    {/* <th>DATE</th> */}\n                </tr>\n                \n                {this.renderTableData()}\n            </tbody>\n        </table>\n        </div>\n    \n    );\n    }\n    }\n    \nexport default UserList;"]},"metadata":{},"sourceType":"module"}